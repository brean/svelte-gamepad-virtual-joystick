import"../chunks/DsnmJJEf.js";import{i as q}from"../chunks/C6ZI_Sbl.js";import{o as S}from"../chunks/BSONIcSF.js";import{B as A,C as B,D as h,v as P,E as R,F as T,G as W,j as D,d as w,e as v,t as j,a as G,k as F,i as K,r as O,f as z,g as E,H as J,h as Q}from"../chunks/BJWlXNjI.js";import{p as l,b as H}from"../chunks/BKPxjZPp.js";import{I as U,t as X,H as C,s as Y,G as c,r as Z,u as $,a as ee,b as y,f as te,M as se}from"../chunks/DIYMPazB.js";function ae(e,t,s=t){var n=A(),u=new WeakSet;B(e,"input",i=>{var a=i?e.defaultValue:e.value;if(a=x(e)?k(a):a,s(a),h!==null&&u.add(h),n&&a!==(a=t())){var d=e.selectionStart,r=e.selectionEnd;e.value=a??"",r!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(r,e.value.length))}}),(T&&e.defaultValue!==e.value||P(t)==null&&e.value)&&(s(x(e)?k(e.value):e.value),h!==null&&u.add(h)),R(()=>{var i=t();if(e===document.activeElement){var a=W??h;if(u.has(a))return}x(e)&&i===k(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function x(e){var t=e.type;return t==="number"||t==="range"}function k(e){return e===""?null:+e}class ne extends U{setValue;getValue;min;max;step;constructor(t,s,n,u,i,a,d,r=!1,f,_,m,g=!1){super(t,d,r,f,_,m,g),this.setValue=s,this.getValue=n,this.min=u,this.max=i,this.step=a}onbuttonpressed(t,s){if(this.disabled||!X(this.input,t))return!1;const n=this.input;return n.buttons.includes(s)?super.onbuttonpressed(t,s):(n.buttons_pos.includes(s)&&this.setValue(Math.min(this.max,this.getValue()+this.step)),n.buttons_neg.includes(s)&&this.setValue(Math.max(this.min,this.getValue()-this.step)),!1)}thisKey(t){return this.input.keys.includes(t.key.toLowerCase())||!1}onkeyhold(t){const s=this.input,n=t.key.toLowerCase();super.onkeyhold(t),s.keys_pos.includes(n)&&this.setValue(Math.min(this.max,this.getValue()+this.step)),s.keys_neg.includes(n)&&this.setValue(Math.max(this.min,this.getValue()-this.step))}}var ie=w('<div class="vslider svelte-19r2n1p"><!> <input type="range"/> <!></div>');function V(e,t){D(t,!0);let s=l(t,"value",15,50),n=l(t,"onpressed",3,void 0),u=l(t,"min",3,0),i=l(t,"max",3,100),a=l(t,"step",3,10),d=l(t,"disabled",3,!1),r=l(t,"inputMapping",19,()=>({name:"Slider",gamepad:-1,sensitivity:.05,axes:0,buttons:[c.DOWN],buttons_neg:[c.L1,c.DPAD_LEFT],buttons_pos:[c.R1,c.DPAD_RIGHT],keys_pos:["d"],keys_neg:["a"],keys:["e","enter"],invert:!1})),f=l(t,"context",19,()=>["default"]),_=l(t,"requiresFocus",3,!0),m;function g(){return m}function I(){te(),n()&&n()()}S(()=>{const p=new ne(r(),N=>{s(N)},()=>s(),u(),i(),a(),m,_(),I);return Z(f(),p),()=>{$(f(),p)}});var b=ie(),M=K(b);C(M,{text:"",get context(){return f()},get keys(){return r().keys_neg},get buttons(){return r().buttons_neg},style:"position: absolute; top: 60px;"});var o=v(M,2);ee(o),Y(o,"",{},{width:"100%;"}),H(o,p=>m=p,()=>m);var L=v(o,2);return C(L,{text:"",get context(){return f()},get keys(){return r().keys_pos},get buttons(){return r().buttons_pos},style:"position: absolute; top: 60px; right: -70px;"}),O(b),j(()=>{y(o,"min",u()),y(o,"max",i()),y(o,"step",a()),o.disabled=d()}),ae(o,s),G(e,b),F({getElement:g})}var re=w("<!>  <!><br/> <!><br/> <!>",1);function he(e,t){D(t,!1);let s=J();S(()=>{E(s).getElement().focus()}),q();var n=re(),u=z(n);se(u,{});var i=v(u,2);H(V(i,{$$legacy:!0}),r=>Q(s,r),()=>E(s));var a=v(i,3);V(a,{});var d=v(a,3);V(d,{}),G(e,n),F()}export{he as component};
